"0","getDistance<-function(predicted){"
"0",""
"0","  clonotypes=clonoNames(predicted)"
"0","  abundance=clonoAbundance(predicted)"
"0","  SumAbundance=sum(abundance)"
"0","  distance=0"
"0","  seen <- hashmap()"
"0","  for(i in 1:length(abundance)){"
"0","    if(is.null(TruthPercentageMap[[clonotypes[i]]])){"
"0","      distance=distance+abundance[i]/SumAbundance"
"0","    }"
"0","    else{"
"0","      seen[[clonotypes[i]]]<-TruthPercentageMap[[clonotypes[i]]]"
"0","      distance=distance+abs(abundance[i]/SumAbundance-TruthPercentageMap[[clonotypes[i]]])"
"0","    }"
"0","  }"
"0","  "
"0","  distance=distance+Reduce(""+"", values(TruthPercentageMap)) -Reduce(""+"", values(seen)) "
"0","  return(distance)"
"0","}"
